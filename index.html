<!DOCTYPE html>
<html>
<head>
    <title>FIT3179: Week 10 Homework</title>
    <meta charset="utf-8" />

    <script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

    <style media="screen">
        /* Add space between Vega-Embed links  */
        .vega-actions a {
            margin-right: 5px;
        }
    </style>


</head>
<body>
<h1>Weather in Australia</h1>
<h3>Assignment 2</h3>
<h4>Thomas Small (29680573)</h4>
<!-- Container for the visualization -->

<div id="vis2"></div>
<div id="vis1"></div>



<script>
const datasetURL="https://raw.githubusercontent.com/tomsmall/FIT3179/main/transformedData.csv"

    const vlSpec1 = {
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "title": "Maximum Temperatures by Capital City (2017)",
  "width": 500,
  "height": 400,
  "data": {
    "url": datasetURL
  },
  "transform": [
    {"filter": {"field": "Year", "equal": 2017}}
  ],
  "mark": "circle",
  "encoding": {
    "x": {
      "field": "MaxTemp",
      "type": "quantitative",
      "title": "Maximum Temp",
      "axis": {"tickCount": 5}
    },
    "y": {"field": "Location", "type": "nominal"},
    "color": {"field": "Location", "type": "nominal"},
    "tooltip": [
      {
        "field": "MaxTemp",
        "type": "quantitative"},
      { "field": "Date"}
    ]
  }
}


    const vlSpec2= {
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "title": "Total Yearly Rainfall",
  "width": 500,
  "height": 400,
  "data": {
    "url": "https://raw.githubusercontent.com/tomsmall/FIT3179/main/transformedData.csv"
  },
  "transform": [
            {"filter": {"field": "Year", "range": [2009,2016]}},
            {"filter": "City_Selection == null || datum.Location == City_Selection"}
  ],
  "mark": "line",
  "params": [
            {
                "name": "City_Selection",
                "bind": {
                    "input": "select",
                    "options": [
                        null,
                        "Adelaide",
                        "Brisbane",
                        "Darwin",
                        "Hobart",
                        "Melbourne",
                        "Perth",
                        "Sydney"
                    ],
                    "labels": [
                        "All",
                        "Adelaide",
                        "Brisbane",
                        "Darwin",
                        "Hobart",
                        "Melbourne",
                        "Perth",
                        "Sydney"
                    ],
                    "name": "Select City"
                }
            }
        ],
  "encoding": {
    "y": {
      "field": "Rainfall",
      "aggregate":"sum",
      "type": "quantitative",
      "scale": {"type": "linear"},
      "axis": {"tickCount": 8},
      "title": "Total Rainfall (mm)"
    },
    "x": {
      "field": "Year",
      "type": "nominal",
      "title": "Year"
    },
    "color": {"field": "Location", "type": "nominal", "title":"City"},
    "tooltip": [
                {"field": "Location", "type": "nominal", "title":"City"},
                {"field": "Year", "type": "quantitative"},
                {"field": "Rainfall", "type":"quantitative", "aggregate":"sum", "title": "Yearly Rainfall (mm)"}
    ]
  }
}



    // Embed the visualization in the container with id `vis`
    vegaEmbed('#vis1', vlSpec1);
    vegaEmbed('#vis2', vlSpec2);
</script>
</body>
</html>
